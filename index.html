<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Mahi | A Special Journey</title>
    
    <!-- Fonts: Playfair Display (Elegant) & Poppins (Modern) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary-blue: #54a0ff;
            --deep-blue: #2e86de;
            --soft-white: #f7f9fc;
            --glass-bg: rgba(255, 255, 255, 0.65);
            --glass-border: rgba(255, 255, 255, 0.9);
            --text-dark: #2c3e50;
            --text-light: #576574;
            --accent-pink: #ff9ff3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #e0f7fa 0%, #ffffff 50%, #dbeafe 100%);
            color: var(--text-dark);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* --- Background Animation --- */
        .bg-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .shape {
            position: absolute;
            filter: blur(80px);
            opacity: 0.6;
            animation: moveShape 20s infinite alternate;
        }

        .shape-1 { background: #a9ddfd; width: 500px; height: 500px; top: -10%; left: -10%; border-radius: 50%; }
        .shape-2 { background: #ffeaa7; width: 400px; height: 400px; bottom: 10%; right: -5%; border-radius: 50%; animation-delay: -5s; }
        .shape-3 { background: #fab1a0; width: 300px; height: 300px; top: 40%; left: 40%; border-radius: 50%; opacity: 0.4; animation-delay: -10s; }

        @keyframes moveShape {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(50px, 50px) scale(1.1); }
        }

        /* --- Floating Hearts --- */
        .heart-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .float-heart {
            position: absolute;
            color: var(--primary-blue);
            opacity: 0;
            animation: floatUp 15s linear infinite;
            font-size: 1.5rem;
            filter: drop-shadow(0 0 5px rgba(255,255,255,0.8));
        }

        @keyframes floatUp {
            0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
            10% { opacity: 0.6; }
            90% { opacity: 0.6; }
            100% { transform: translateY(-10vh) scale(1.2) rotate(20deg); opacity: 0; }
        }

        /* --- Typography --- */
        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
            color: var(--text-dark);
        }

        .highlight {
            color: var(--deep-blue);
            position: relative;
            display: inline-block;
        }
        
        .highlight::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 10px;
            bottom: 5px;
            left: 0;
            background: rgba(84, 160, 255, 0.2);
            z-index: -1;
            transform: skewX(-15deg);
        }

        /* --- Music Button --- */
        .music-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.8);
            backdrop-filter: blur(10px);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
            z-index: 1000;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid white;
        }
        .music-btn:hover { transform: scale(1.1); }
        .music-btn i { color: var(--deep-blue); font-size: 1.2rem; }
        .music-playing { animation: pulse 2s infinite; }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(46, 134, 222, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(46, 134, 222, 0); }
            100% { box-shadow: 0 0 0 0 rgba(46, 134, 222, 0); }
        }

        /* --- Layout --- */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
            z-index: 1;
        }

        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 80px 0;
            opacity: 0; /* For scroll reveal */
            transform: translateY(50px);
            transition: all 1s ease-out;
        }

        section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- Hero Section --- */
        .hero { text-align: center; }
        .hero h1 { font-size: 4rem; margin-bottom: 1rem; line-height: 1.1; }
        .hero p { font-size: 1.2rem; color: var(--text-light); letter-spacing: 2px; text-transform: uppercase; }
        .scroll-indicator {
            margin-top: 50px;
            animation: bounce 2s infinite;
        }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-10px);} 60% {transform: translateY(-5px);} }

        /* --- Teddy Sticky Notes --- */
        .teddy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            width: 100%;
            margin-top: 50px;
        }

        .sticky-card {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            position: relative;
            transition: transform 0.3s ease;
            text-align: center;
        }

        .sticky-card:hover { transform: translateY(-10px) rotate(2deg); }
        .sticky-card:nth-child(even) { transform: rotate(2deg); }
        .sticky-card:nth-child(even):hover { transform: translateY(-10px) rotate(-2deg); }
        
        .tape {
            width: 100px;
            height: 30px;
            background: rgba(255,255,255,0.4);
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%) rotate(-2deg);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .teddy-img {
            font-size: 4rem; /* Using Emoji for reliability, can swap for <img> */
            margin-bottom: 15px;
            display: block;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.1));
        }

        .sticky-card h3 { font-size: 1.5rem; margin-bottom: 10px; color: var(--deep-blue); }
        .sticky-card p { font-size: 0.95rem; color: var(--text-light); line-height: 1.6; }

        /* --- The Letter (Glassmorphism) --- */
        .letter-container {
            width: 100%;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid white;
            padding: 50px;
            border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.05);
            text-align: center;
            position: relative;
        }

        .letter-content {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--text-dark);
            text-align: left;
        }

        .letter-content p { margin-bottom: 20px; }
        .signature {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: 1.5rem;
            text-align: right;
            margin-top: 30px;
            color: var(--deep-blue);
        }

        /* --- Interactive Cake --- */
        .cake-container {
            position: relative;
            margin-top: 50px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .cake-container:active { transform: scale(0.98); }

        .cake-body {
            font-size: 8rem;
            position: relative;
            z-index: 10;
        }

        .candle-flame {
            width: 20px;
            height: 35px;
            background: orange;
            border-radius: 50% 50% 20% 20%;
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 0 20px orange, 0 0 40px yellow;
            animation: flicker 0.5s infinite alternate;
            z-index: 11;
            opacity: 1;
            transition: opacity 0.5s;
        }

        .candle-flame.blown-out {
            opacity: 0;
            animation: none;
        }

        .smoke {
            position: absolute;
            top: -30px;
            left: 50%;
            width: 10px;
            height: 30px;
            background: rgba(0,0,0,0.2);
            filter: blur(5px);
            opacity: 0;
            border-radius: 10px;
            transform: translateX(-50%);
        }

        .smoke.active { animation: rise 2s forwards; }

        @keyframes flicker {
            0% { transform: translateX(-50%) scale(1); opacity: 0.9; }
            100% { transform: translateX(-50%) scale(1.1); opacity: 1; }
        }
        @keyframes rise {
            0% { opacity: 0.5; transform: translateX(-50%) translateY(0); }
            100% { opacity: 0; transform: translateX(-50%) translateY(-50px); }
        }

        .instruction {
            margin-top: 20px;
            color: var(--deep-blue);
            font-size: 0.9rem;
            font-weight: 600;
            background: white;
            padding: 8px 20px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* --- Canvas for Confetti --- */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
        }

        /* --- Footer --- */
        footer {
            padding: 40px;
            text-align: center;
            font-size: 0.9rem;
            color: var(--text-light);
            background: rgba(255,255,255,0.5);
            backdrop-filter: blur(10px);
        }

        /* --- Loader --- */
        #loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        .loader-content { text-align: center; }
        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(84, 160, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--deep-blue);
            animation: spin 1s ease-in-out infinite;
            margin: 0 auto 20px;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.5rem; }
            .letter-container { padding: 30px 20px; }
            .teddy-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <!-- Background Audio (Hidden by default, triggered by button) -->
    <!-- Ideally, replace this src with a publicly hosted MP3 url of her favorite calm song -->
    <audio id="bg-music" loop>
        <source src="https://s-until-i-found-you-piano-version.mp3.pm" type="audio/mpeg">
    </audio>

    <!-- Music Toggle Button -->
    <div class="music-btn" onclick="toggleMusic()" title="Play Music">
        <i class="fas fa-play" id="music-icon"></i>
    </div>

    <!-- Background Animations -->
    <div class="bg-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>
    
    <div class="heart-container" id="heart-container">
        <!-- JS will populate floating blue/white hearts here -->
    </div>

    <!-- Preloader -->
    <div id="loader">
        <div class="loader-content">
            <div class="spinner"></div>
            <h3>Loading Memories...</h3>
        </div>
    </div>

    <!-- Canvas for Confetti -->
    <canvas id="confetti-canvas"></canvas>

    <!-- Content -->
    <div class="container">
        
        <!-- Section 1: Hero -->
        <section class="hero" id="home">
            <p>To my favorite human</p>
            <h1>Happy Birthday, <br><span class="highlight">Mahi</span></h1>
            <p>A little corner of the internet, just for you.</p>
            <div class="scroll-indicator">
                <i class="fas fa-chevron-down" style="color: var(--deep-blue); font-size: 1.5rem;"></i>
            </div>
        </section>

        <!-- Section 2: Why You're Special (Teddy Notes) -->
        <section id="reasons">
            <h2>Why You Are <span class="highlight">Special</span></h2>
            <div class="teddy-grid">
                <!-- Card 1 -->
                <div class="sticky-card">
                    <div class="tape"></div>
                    <span class="teddy-img">üß∏</span>
                    <h3>The Best Listener</h3>
                    <p>Thank you for always listening to my bakvas and me without judgment. You are my safe space.</p>
                </div>
                <!-- Card 2 -->
                <div class="sticky-card">
                    <div class="tape"></div>
                    <span class="teddy-img">üòÅ</span>
                    <h3>hehe</h3>
                    <p>thank you for always staying whatever happenedü§ó.</p>
                </div>
                <!-- Card 3 -->
                <div class="sticky-card">
                    <div class="tape"></div>
                    <span class="teddy-img">ü§ç</span>
                    <h3>my boss</h3>
                    <p>From deep talks and my weird chats to laughing at stupid memes, there's no one else I'd rather share these moments with.</p>
                </div>
            </div>
        </section>

        <!-- Section 3: The Letter -->
        <section id="letter">
            <div class="letter-container">
                <i class="fas fa-quote-left" style="font-size: 2rem; color: var(--deep-blue); margin-bottom: 20px;"></i>
                <div class="letter-content">
                    <p>Dear Mahi,</p>
                    <p>I wanted to create something different for you this year. Something that lasts longer than a normal happy birthday and means more than a text message.</p>
                    <p>it's been so long still it feels just like we met yesterday.aise hi hamesha yahi rehna okay hope ye chota sa mera gift pasand aye hehe kya likhu happy happy birthday and be happy like you are smiling now. kr rhi hona smile?.</p>
                    <p>I hope this year brings you as much happiness as you bring to everyone around you. May your dreams chase you, and may you always find reasons to smile.</p>
                    <p>from your bandar, yash.</p>
                </div>
                <div class="signature">- Your Best Friend</div>
            </div>
        </section>

        <!-- Section 4: The Cake -->
        <section id="cake-section">
            <h2>Make a <span class="highlight">Wish</span></h2>
            <div class="cake-container" onclick="blowCandle()">
                <div style="position: relative; display: inline-block;">
                    <div class="candle-flame" id="flame"></div>
                    <div class="smoke" id="smoke"></div>
                    <div class="cake-body">üéÇ</div>
                </div>
            </div>
            <div class="instruction" id="cake-instruction">Tap the cake to blow out the candle!</div>
        </section>

        <footer>
            <p>Made with üíô and code for Mahi | 2025</p>
        </footer>
    </div>

    <script>
        // --- 1. Preloader ---
        window.addEventListener('load', () => {
            const loader = document.getElementById('loader');
            loader.style.opacity = '0';
            setTimeout(() => {
                loader.style.display = 'none';
                createHearts(); // Start floating hearts
            }, 500);
        });

        // --- 2. Scroll Animations (Intersection Observer) ---
        const observerOptions = {
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('section').forEach(section => {
            observer.observe(section);
        });

        // --- 3. Floating Hearts Generator ---
        function createHearts() {
            const container = document.getElementById('heart-container');
            const symbols = ['üíô', 'ü§ç', '‚ú®']; // Blue heart, White heart, Sparkles
            
            setInterval(() => {
                const heart = document.createElement('div');
                heart.classList.add('float-heart');
                heart.innerText = symbols[Math.floor(Math.random() * symbols.length)];
                
                // Random position and size
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = Math.random() * 5 + 10 + 's'; // 10-15s
                heart.style.fontSize = Math.random() * 20 + 10 + 'px';
                
                container.appendChild(heart);
                
                // Remove after animation
                setTimeout(() => {
                    heart.remove();
                }, 15000);
            }, 500);
        }

        // --- 4. Audio Control ---
        function toggleMusic() {
            const audio = document.getElementById('bg-music');
            const icon = document.getElementById('music-icon');
            const btn = document.querySelector('.music-btn');

            if (audio.paused) {
                audio.play();
                icon.classList.remove('fa-play');
                icon.classList.add('fa-pause');
                btn.classList.add('music-playing');
            } else {
                audio.pause();
                icon.classList.remove('fa-pause');
                icon.classList.add('fa-play');
                btn.classList.remove('music-playing');
            }
        }

        // --- 5. Interactive Cake & Confetti ---
        let candleBlown = false;

        function blowCandle() {
            if (candleBlown) return;

            const flame = document.getElementById('flame');
            const smoke = document.getElementById('smoke');
            const instruction = document.getElementById('cake-instruction');

            flame.classList.add('blown-out');
            smoke.classList.add('active');
            instruction.innerText = "Yay! Happy Birthday Mahi! ü•≥";
            
            candleBlown = true;
            
            // Trigger Confetti
            startConfetti();
        }

        // --- Simple Confetti Implementation ---
        const canvas = document.getElementById("confetti-canvas");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let particles = [];
        const colors = ['#54a0ff', '#ff9ff3', '#feca57', '#ffffff'];

        function startConfetti() {
            for (let i = 0; i < 150; i++) {
                particles.push({
                    x: window.innerWidth / 2,
                    y: window.innerHeight / 2 + 200, // explode from cake
                    w: Math.random() * 10 + 5,
                    h: Math.random() * 10 + 5,
                    vx: Math.random() * 20 - 10,
                    vy: Math.random() * -20 - 5,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    gravity: 0.5
                });
            }
            requestAnimationFrame(updateConfetti);
        }

        function updateConfetti() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach((p, index) => {
                p.x += p.vx;
                p.y += p.vy;
                p.vy += p.gravity;
                
                ctx.fillStyle = p.color;
                ctx.fillRect(p.x, p.y, p.w, p.h);

                if (p.y > canvas.height) particles.splice(index, 1);
            });

            if (particles.length > 0) requestAnimationFrame(updateConfetti);
        }

        // Handle Resize
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

    </script>
</body>
</html>